var r,n=function(){var r,n,t,o,a,f=function(r){return Math.sin(6.283184*r)},u=function(r){return.003959503758*2**((r-128)/12)},e=function(r,n,t){var o,a,f,e,c,v,h=i[r.t[0]],s=r.t[1],w=r.t[3]/32,y=i[r.t[4]],A=r.t[5],M=r.t[8]/32,l=r.t[9],I=r.t[10]*r.t[10]*4,p=r.t[11]*r.t[11]*4,d=r.t[12]*r.t[12]*4,m=1/d,U=-r.t[13]/16,b=r.t[14],g=t*2**(2-r.t[15]),j=new Int32Array(I+p+d),k=0,q=0;for(o=0,a=0;o<I+p+d;o++,a++)a>=0&&(a-=g,c=u(n+(15&(b=b>>8|(255&b)<<4))+r.t[2]-128),v=u(n+(15&b)+r.t[6]-128)*(1+8e-4*r.t[7])),f=1,o<I?f=o/I:o>=I+p&&(f=(1-(f=(o-I-p)*m))*3**(U*f)),e=h(k+=c*f**w)*s,e+=y(q+=v*f**M)*A,l&&(e+=(2*Math.random()-1)*l),j[o]=80*e*f|0;return j},i=[f,function(r){return r%1<.5?1:-1},function(r){return r%1*2-1},function(r){var n=r%1*4;return n<2?n-1:3-n}];this.init=function(f){r=f,n=f.o,t=0,o=f.u*f.i*(n+1)*2,a=new Int32Array(o)},this.v=function(){var u,c,v,h,s,w,y,A,M,l,I,p,d,m,U=new Int32Array(o),b=r.h[t],g=r.u,j=r.i,k=0,q=0,x=!1,z=[];for(v=0;v<=n;++v)for(y=b.A[v],h=0;h<j;++h){var B=y?b.c[y-1].f[h]:0;B&&(b.t[B-1]=b.c[y-1].f[h+j]||0,B<17&&(z=[]));var C=i[b.t[16]],D=b.t[17]/512,E=2**(b.t[18]-9)/g,F=b.t[19],G=b.t[20],H=43.23529*b.t[21]*3.141592/44100,J=1-b.t[22]/255,K=1e-5*b.t[23],L=b.t[24]/32,N=b.t[25]/512,O=6.283184*2**(b.t[26]-9)/g,P=b.t[27]/255,Q=b.t[28]*g&-2;for(I=(v*j+h)*g,s=0;s<4;++s)if(w=y?b.c[y-1].n[h+s*j]:0){z[w]||(z[w]=e(b,w,g));var R=z[w];for(c=0,u=2*I;c<R.length;c++,u+=2)U[u]+=R[c]}for(c=0;c<g;c++)(l=U[A=2*(I+c)])||x?(p=H,F&&(p*=C(E*A)*D+.5),q+=(p=1.5*Math.sin(p))*(d=J*(l-q)-(k+=p*q)),l=3==G?q:1==G?d:k,K&&(l=(l*=K)<1?l>-1?f(.25*l):-1:1,l/=K),x=(l*=L)*l>1e-5,m=l*(1-(M=Math.sin(O*A)*N+.5)),l*=M):m=0,A>=Q&&(m+=U[A-Q+1]*P,l+=U[A-Q]*P),U[A]=0|m,U[A+1]=0|l,a[A]+=0|m,a[A+1]+=0|l}return++t/r.M},this.l=function(r){for(var n=r.createBuffer(2,o/2,44100),t=0;t<2;t++)for(var f=n.getChannelData(t),u=t;u<o;u+=2)f[u>>1]=a[u]/65536;return n},this.I=function(){var r=44+2*o-8,n=r-36,t=new Uint8Array(44+2*o);t.set([82,73,70,70,255&r,r>>8&255,r>>16&255,r>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&n,n>>8&255,n>>16&255,n>>24&255]);for(var f=0,u=44;f<o;++f){var e=a[f];e=e<-32767?-32767:e>32767?32767:e,t[u++]=255&e,t[u++]=e>>8&255}return t},this.getData=function(r,n){for(var t=2*Math.floor(44100*r),o=new Array(n),f=0;f<2*n;f+=1){var u=t+f;o[f]=r>0&&u<a.length?a[u]/32768:0}return o}};r=document.getElementById("app"),function(){let r=new n;console.log(r)}(),console.log(r);
