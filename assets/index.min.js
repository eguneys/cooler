var n=function(){var n,r,t,e,o,u=function(n){return Math.sin(6.283184*n)},a=function(n){return.003959503758*2**((n-128)/12)},f=function(n,r,t){var e,o,u,f,c,s,v=i[n.t[0]],l=n.t[1],h=n.t[3]/32,w=i[n.t[4]],m=n.t[5],p=n.t[8]/32,y=n.t[9],d=n.t[10]*n.t[10]*4,A=n.t[11]*n.t[11]*4,M=n.t[12]*n.t[12]*4,g=1/M,I=-n.t[13]/16,C=n.t[14],L=t*2**(2-n.t[15]),P=new Int32Array(d+A+M),T=0,b=0;for(e=0,o=0;e<d+A+M;e++,o++)o>=0&&(o-=L,c=a(r+(15&(C=C>>8|(255&C)<<4))+n.t[2]-128),s=a(r+(15&C)+n.t[6]-128)*(1+8e-4*n.t[7])),u=1,e<d?u=e/d:e>=d+A&&(u=(1-(u=(e-d-A)*g))*3**(I*u)),f=v(T+=c*u**h)*l,f+=w(b+=s*u**p)*m,y&&(f+=(2*Math.random()-1)*y),P[e]=80*f*u|0;return P},i=[u,function(n){return n%1<.5?1:-1},function(n){return n%1*2-1},function(n){var r=n%1*4;return r<2?r-1:3-r}];this.init=function(u){n=u,r=u.o,t=0,e=u.u*u.i*(r+1)*2,o=new Int32Array(e)},this.v=function(){var a,c,s,v,l,h,w,m,p,y,d,A,M,g,I=new Int32Array(e),C=n.l[t],L=n.u,P=n.i,T=0,b=0,j=!1,k=[];for(s=0;s<=r;++s)for(w=C.h[s],v=0;v<P;++v){var x=w?C.c[w-1].f[v]:0;x&&(C.t[x-1]=C.c[w-1].f[v+P]||0,x<17&&(k=[]));var D=i[C.t[16]],O=C.t[17]/512,U=2**(C.t[18]-9)/L,q=C.t[19],z=C.t[20],B=43.23529*C.t[21]*3.141592/44100,E=1-C.t[22]/255,F=1e-5*C.t[23],G=C.t[24]/32,H=C.t[25]/512,J=6.283184*2**(C.t[26]-9)/L,K=C.t[27]/255,N=C.t[28]*L&-2;for(d=(s*P+v)*L,l=0;l<4;++l)if(h=w?C.c[w-1].n[v+l*P]:0){k[h]||(k[h]=f(C,h,L));var Q=k[h];for(c=0,a=2*d;c<Q.length;c++,a+=2)I[a]+=Q[c]}for(c=0;c<L;c++)(y=I[m=2*(d+c)])||j?(A=B,q&&(A*=D(U*m)*O+.5),b+=(A=1.5*Math.sin(A))*(M=E*(y-b)-(T+=A*b)),y=3==z?b:1==z?M:T,F&&(y=(y*=F)<1?y>-1?u(.25*y):-1:1,y/=F),j=(y*=G)*y>1e-5,g=y*(1-(p=Math.sin(J*m)*H+.5)),y*=p):g=0,m>=N&&(g+=I[m-N+1]*K,y+=I[m-N]*K),I[m]=0|g,I[m+1]=0|y,o[m]+=0|g,o[m+1]+=0|y}return++t/n.m},this.p=function(n){for(var r=n.createBuffer(2,e/2,44100),t=0;t<2;t++)for(var u=r.getChannelData(t),a=t;a<e;a+=2)u[a>>1]=o[a]/65536;return r},this.A=function(){var n=44+2*e-8,r=n-36,t=new Uint8Array(44+2*e);t.set([82,73,70,70,255&n,n>>8&255,n>>16&255,n>>24&255,87,65,86,69,102,109,116,32,16,0,0,0,1,0,2,0,68,172,0,0,16,177,2,0,4,0,16,0,100,97,116,97,255&r,r>>8&255,r>>16&255,r>>24&255]);for(var u=0,a=44;u<e;++u){var f=o[u];f=f<-32767?-32767:f>32767?32767:f,t[a++]=255&f,t[a++]=f>>8&255}return t},this.getData=function(n,r){for(var t=2*Math.floor(44100*n),e=new Array(r),u=0;u<2*r;u+=1){var a=t+u;e[u]=n>0&&a<o.length?o[a]/32768:0}return e}};const r={l:[{t:[0,91,128,0,0,95,128,12,0,0,12,0,72,0,0,0,0,0,0,0,2,255,0,0,32,83,3,130,4],h:[1,2,1,2,,,,,,1,2,1,2],c:[{n:[135,,,,,,,,139,,,,142,,,,147,,,,,,,,139],f:[]},{n:[142,,,,,,,,147,,,,139,,,,135,,,,,,,,135],f:[]}]},{t:[2,61,128,0,3,91,128,0,0,0,5,6,58,0,0,0,0,195,6,1,3,135,0,0,32,147,6,121,6],h:[1,2,1,2,1,2,1,2,1,1,2,2,1],c:[{n:[,,,,135,,,,,,,,135,,,,,,,,147,,,,,,,,135,,,,,,,,139,,,,,,,,151,,,,,,,,139,,,,,,,,139,,,,,,,,154,,,,,,,,142,,,,,,,,142,,,,,,,,142],f:[21,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,3]},{n:[,,,,135,,,,,,,,135,,,,,,,,147,,,,,,,,135,,,,,,,,139,,,,,,,,151,,,,,,,,139,,,,,,,,139,,,,,,,,154,,,,,,,,142,,,,,,,,142,,,,,,,,142],f:[]}]},{t:[1,104,128,0,0,99,116,9,0,28,17,15,25,135,106,0,0,186,3,1,1,23,167,0,32,77,6,13,1],h:[,,1,2,1,1,2,2,,1,2],c:[{n:[135,,139,,154,,147,,135,,139,,154,,151,,139,,142,,151,,,,139,,142,,154],f:[]},{n:[139,,142,,154,,,,139,,142,,154,,,,154,,151,,147,,,,154,,151,,147],f:[]}]}],u:7350,i:32,o:12,m:3};function t(){let t=new AudioContext,e=t.createGain();e.connect(t.destination);const o={},u=[{name:"song",data:r}];return{v:()=>(u.forEach((r=>{let e=new n;e.init(r.data),function n(){if(1===e.v()){let n=e.p(t);((n,r)=>{o[n]=r})(r.name,n)}else setTimeout(n,0)}()})),new Promise((n=>{!function r(){Object.keys(o).length!==u.length?setTimeout(r,100):n()}()}))),play:(n,r=!1)=>{const u=o[n];if(!u)return null;let a=t.createBufferSource(),f=t.createGain(),i=t.createStereoPanner();return a.buffer=u,a.connect(i),i.connect(f),f.connect(e),a.loop=r,f.gain.value=.8,a.start(),{volume:f,M:a}}}}!function(n){console.log(n);let r=t();r.v().then((()=>{document.addEventListener("keypress",(()=>{r.play("song",!0)}))}))}(document.getElementById("app"));
